<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>src.todo_server API documentation</title>
<meta name="description" content="MCP Todo Server - A Model Context Protocol Server Implementation …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>src.todo_server</code></h1>
</header>
<section id="section-intro">
<p>MCP Todo Server - A Model Context Protocol Server Implementation</p>
<p>This server demonstrates how to build an MCP (Model Context Protocol) server
that exposes tools and resources for AI assistants to interact with. MCP enables
standardized communication between AI applications and external systems.</p>
<p>Key MCP Concepts Demonstrated:
1. Tools: Functions that AI can call to perform actions (create, read, update, delete todos)
2. Resources: Data endpoints that AI can query (todo list resource)
3. FastMCP: A Python framework that simplifies MCP server creation</p>
<p>The Model Context Protocol (MCP) provides:
- Standardized way for LLMs to discover and use external tools
- Type-safe parameter validation and error handling
- Automatic JSON schema generation for tool parameters
- Support for both synchronous and asynchronous operations</p>
<p>For developers learning AI integration:
- MCP servers expose your application's functionality as "tools" that AI can discover and use
- The protocol handles all communication details between AI clients and your server
- FastMCP makes it easy to turn Python functions into AI-accessible tools
- This pattern enables building AI-augmented applications without tight coupling</p>
<p>Architecture Overview:
- AI Assistant (Claude, ChatGPT, etc.) ← MCP Protocol → MCP Server (this code)
- The AI decides when and how to use tools based on user requests
- The server validates inputs and executes the requested operations
- Results are returned to the AI for interpretation and presentation</p>
<p>Testing with MCP Inspector:
- Run standalone: <code>uv run src/todo_server.py</code>
- With Inspector: <code>npx @modelcontextprotocol/inspector uv run src/todo_server.py</code>
- Open browser to <a href="http://localhost:5173">http://localhost:5173</a> to interact with tools and resources
- The Inspector lets you manually test tools and see the MCP protocol messages</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="src.todo_server.create_todo"><code class="name flex">
<span>def <span class="ident">create_todo</span></span>(<span>title: Annotated[str, FieldInfo(annotation=NoneType, required=True, description='Brief description of the task to be done')],<br>description: Annotated[str, FieldInfo(annotation=NoneType, required=False, default='', description='Additional details or context about the task')],<br>priority: Annotated[str, FieldInfo(annotation=NoneType, required=False, default='medium', description="Task importance: 'low', 'medium', or 'high'", metadata=[_PydanticGeneralMetadata(pattern='^(low|medium|high)$')])]) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@mcp.tool()
def create_todo(
    title: Annotated[str, Field(description=&#34;Brief description of the task to be done&#34;)],
    description: Annotated[str, Field(default=&#34;&#34;, description=&#34;Additional details or context about the task&#34;)],
    priority: Annotated[str, Field(default=&#34;medium&#34;, description=&#34;Task importance: &#39;low&#39;, &#39;medium&#39;, or &#39;high&#39;&#34;, pattern=&#34;^(low|medium|high)$&#34;)]
) -&gt; Dict[str, Any]:
    &#34;&#34;&#34;Add a new task to the todo list with specified details.&#34;&#34;&#34;
    todo_id = todo_store.get_next_id()

    # Create the todo object with all necessary fields
    todo = {
        &#34;id&#34;: todo_id,
        &#34;title&#34;: title,
        &#34;description&#34;: description,
        &#34;priority&#34;: priority,
        &#34;completed&#34;: False,
        &#34;created_at&#34;: datetime.now().isoformat()
    }

    # Store in our in-memory database
    todo_store.todos[todo_id] = todo

    # Return a structured response that AI can interpret
    return {&#34;success&#34;: True, &#34;todo&#34;: todo}</code></pre>
</details>
<div class="desc"><p>Add a new task to the todo list with specified details.</p></div>
</dd>
<dt id="src.todo_server.delete_todo"><code class="name flex">
<span>def <span class="ident">delete_todo</span></span>(<span>todo_id: Annotated[int, FieldInfo(annotation=NoneType, required=True, description='The ID number of the task to remove')]) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@mcp.tool()
def delete_todo(
    todo_id: Annotated[int, Field(description=&#34;The ID number of the task to remove&#34;)]
) -&gt; Dict[str, Any]:
    &#34;&#34;&#34;Remove a task from the list permanently.&#34;&#34;&#34;
    # Validate before deletion
    if todo_id not in todo_store.todos:
        return {&#34;success&#34;: False, &#34;error&#34;: f&#34;Todo {todo_id} not found&#34;}

    # Remove from storage and return the deleted item
    deleted_todo = todo_store.todos.pop(todo_id)
    return {&#34;success&#34;: True, &#34;deleted_todo&#34;: deleted_todo}</code></pre>
</details>
<div class="desc"><p>Remove a task from the list permanently.</p></div>
</dd>
<dt id="src.todo_server.list_todos"><code class="name flex">
<span>def <span class="ident">list_todos</span></span>(<span>status: Annotated[str, FieldInfo(annotation=NoneType, required=False, default='all', description="Filter tasks by: 'all', 'completed', or 'pending'", metadata=[_PydanticGeneralMetadata(pattern='^(all|completed|pending)$')])]) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@mcp.tool()
def list_todos(
    status: Annotated[str, Field(default=&#34;all&#34;, description=&#34;Filter tasks by: &#39;all&#39;, &#39;completed&#39;, or &#39;pending&#39;&#34;, pattern=&#34;^(all|completed|pending)$&#34;)]
) -&gt; Dict[str, Any]:
    &#34;&#34;&#34;Retrieve todos filtered by completion status.&#34;&#34;&#34;
    filtered_todos = []

    # Filter todos based on the requested status
    for todo in todo_store.todos.values():
        if status == &#34;all&#34;:
            filtered_todos.append(todo)
        elif status == &#34;completed&#34; and todo[&#34;completed&#34;]:
            filtered_todos.append(todo)
        elif status == &#34;pending&#34; and not todo[&#34;completed&#34;]:
            filtered_todos.append(todo)

    # Return structured data that AI can process and present to users
    return {
        &#34;todos&#34;: filtered_todos,
        &#34;count&#34;: len(filtered_todos),
        &#34;total&#34;: len(todo_store.todos)
    }</code></pre>
</details>
<div class="desc"><p>Retrieve todos filtered by completion status.</p></div>
</dd>
<dt id="src.todo_server.update_todo"><code class="name flex">
<span>def <span class="ident">update_todo</span></span>(<span>todo_id: Annotated[int, FieldInfo(annotation=NoneType, required=True, description='The ID number of the task to modify')],<br>title: Annotated[str | None, FieldInfo(annotation=NoneType, required=False, default=None, description='New title for the task')],<br>description: Annotated[str | None, FieldInfo(annotation=NoneType, required=False, default=None, description='New description or details')],<br>priority: Annotated[str | None, FieldInfo(annotation=NoneType, required=False, default=None, description="New priority: 'low', 'medium', or 'high'", metadata=[_PydanticGeneralMetadata(pattern='^(low|medium|high)$')])],<br>completed: Annotated[bool | None, FieldInfo(annotation=NoneType, required=False, default=None, description='Mark as done (true) or not done (false)')]) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@mcp.tool()
def update_todo(
    todo_id: Annotated[int, Field(description=&#34;The ID number of the task to modify&#34;)],
    title: Annotated[Optional[str], Field(default=None, description=&#34;New title for the task&#34;)],
    description: Annotated[Optional[str], Field(default=None, description=&#34;New description or details&#34;)],
    priority: Annotated[Optional[str], Field(default=None, description=&#34;New priority: &#39;low&#39;, &#39;medium&#39;, or &#39;high&#39;&#34;, pattern=&#34;^(low|medium|high)$&#34;)],
    completed: Annotated[Optional[bool], Field(default=None, description=&#34;Mark as done (true) or not done (false)&#34;)]
) -&gt; Dict[str, Any]:
    &#34;&#34;&#34;Modify an existing todo&#39;s properties or mark it complete.&#34;&#34;&#34;
    # Validate the todo exists
    if todo_id not in todo_store.todos:
        return {&#34;success&#34;: False, &#34;error&#34;: f&#34;Todo {todo_id} not found&#34;}

    todo = todo_store.todos[todo_id]

    # Update only the fields that were provided
    if title is not None:
        todo[&#34;title&#34;] = title
    if description is not None:
        todo[&#34;description&#34;] = description
    if priority is not None:
        todo[&#34;priority&#34;] = priority
    if completed is not None:
        todo[&#34;completed&#34;] = completed

    # Track when the todo was last modified
    todo[&#34;updated_at&#34;] = datetime.now().isoformat()

    return {&#34;success&#34;: True, &#34;todo&#34;: todo}</code></pre>
</details>
<div class="desc"><p>Modify an existing todo's properties or mark it complete.</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="src.todo_server.TodoStore"><code class="flex name class">
<span>class <span class="ident">TodoStore</span></span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TodoStore:
    def __init__(self):
        self.todos: Dict[int, Dict[str, Any]] = {}
        self._next_id = 1
    
    def get_next_id(self) -&gt; int:
        current_id = self._next_id
        self._next_id += 1
        return current_id</code></pre>
</details>
<div class="desc"></div>
<h3>Methods</h3>
<dl>
<dt id="src.todo_server.TodoStore.get_next_id"><code class="name flex">
<span>def <span class="ident">get_next_id</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_next_id(self) -&gt; int:
    current_id = self._next_id
    self._next_id += 1
    return current_id</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="src.todo_server.create_todo" href="#src.todo_server.create_todo">create_todo</a></code></li>
<li><code><a title="src.todo_server.delete_todo" href="#src.todo_server.delete_todo">delete_todo</a></code></li>
<li><code><a title="src.todo_server.list_todos" href="#src.todo_server.list_todos">list_todos</a></code></li>
<li><code><a title="src.todo_server.update_todo" href="#src.todo_server.update_todo">update_todo</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="src.todo_server.TodoStore" href="#src.todo_server.TodoStore">TodoStore</a></code></h4>
<ul class="">
<li><code><a title="src.todo_server.TodoStore.get_next_id" href="#src.todo_server.TodoStore.get_next_id">get_next_id</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
